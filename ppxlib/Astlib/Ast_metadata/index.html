<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast_metadata (ppxlib.Astlib.Ast_metadata)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ppxlib</a> &#x00BB; <a href="../index.html">Astlib</a> &#x00BB; Ast_metadata</nav><h1>Module <code>Astlib.Ast_metadata</code></h1><p>Meta data related interface for a ppx rewriter</p><nav class="toc"><ul><li><a href="#cookies">Cookies</a></li></ul></nav></header><dl><dt class="spec value" id="val-add_ppx_context_str"><a href="#val-add_ppx_context_str" class="anchor"></a><code><span class="keyword">val</span> add_ppx_context_str : <span>tool_name:string</span> <span>&#45;&gt;</span> <span>Parsetree.structure_item list</span> <span>&#45;&gt;</span> <span>Parsetree.structure_item list</span></code></dt><dd><p>Extract information from the current environment and encode it into an attribute which is prepended to the list of structure items in order to pass the information to an external processor.</p></dd></dl><dl><dt class="spec value" id="val-drop_ppx_context_str"><a href="#val-drop_ppx_context_str" class="anchor"></a><code><span class="keyword">val</span> drop_ppx_context_str : <span>restore:bool</span> <span>&#45;&gt;</span> <span>Parsetree.structure_item list</span> <span>&#45;&gt;</span> <span>Parsetree.structure_item list</span></code></dt><dd><p>Drop the ocaml.ppx.context attribute from a structure. If <code>restore</code> is true, also restore the associated data in the current process.</p></dd></dl><dl><dt class="spec value" id="val-add_ppx_context_sig"><a href="#val-add_ppx_context_sig" class="anchor"></a><code><span class="keyword">val</span> add_ppx_context_sig : <span>tool_name:string</span> <span>&#45;&gt;</span> <span>Parsetree.signature_item list</span> <span>&#45;&gt;</span> <span>Parsetree.signature_item list</span></code></dt><dd><p>Same as <code>add_ppx_context_str</code>, but for signatures.</p></dd></dl><dl><dt class="spec value" id="val-drop_ppx_context_sig"><a href="#val-drop_ppx_context_sig" class="anchor"></a><code><span class="keyword">val</span> drop_ppx_context_sig : <span>restore:bool</span> <span>&#45;&gt;</span> <span>Parsetree.signature_item list</span> <span>&#45;&gt;</span> <span>Parsetree.signature_item list</span></code></dt><dd><p>Same as <code>drop_ppx_context_str</code>, but for signatures.</p></dd></dl><dl><dt class="spec value" id="val-tool_name"><a href="#val-tool_name" class="anchor"></a><code><span class="keyword">val</span> tool_name : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Can be used within a ppx preprocessor to know which tool is calling it <code>&quot;ocamlc&quot;</code>, <code>&quot;ocamlopt&quot;</code>, <code>&quot;ocamldoc&quot;</code>, <code>&quot;ocamldep&quot;</code>, <code>&quot;ocaml&quot;</code>, ...</p></dd></dl><section><header><h2 id="cookies"><a href="#cookies" class="anchor"></a>Cookies</h2></header><aside><p>Cookies are used to pass information from a ppx processor to a further invocation of itself, when called from the OCaml toplevel (or other tools that support cookies).</p></aside><dl><dt class="spec value" id="val-set_cookie"><a href="#val-set_cookie" class="anchor"></a><code><span class="keyword">val</span> set_cookie : string <span>&#45;&gt;</span> Parsetree.expression <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_cookie"><a href="#val-get_cookie" class="anchor"></a><code><span class="keyword">val</span> get_cookie : string <span>&#45;&gt;</span> <span>Parsetree.expression option</span></code></dt></dl></section></div></body></html>